```javascript
function callBacks(option) {
    /*字符串转对象*/
    var creayeOption = function (option) {
        var object = {};
        option.split(/\s+/).forEach((item) => {
            object[item] = true;
        })
        return object;
    }
    /*执行队列函数*/
    var fire = function (data) {
        length = option.memory&&fireListening?start||0:0;
        start=0;
        fireListening = true;
        memory = option.memory ? data : undefined
        for (; index < length; index++) {
            if (list[index].apply(data[0], data[1]) === false && option.stopOnfalse) {
                break;
            }
        }
    }
    /*队列列表*/
    var list = [],
        index = 0,
        length,
        fireListening = false,
        memory,
        start
    ;
    option = typeof option === 'string' ? creayeOption(option) : extend({}, option);

    var self = {
        /*增加函数*/
        add: function () {
            var args = [].slice.call(arguments);
            start=list.length;
            args.forEach((item) => {
                if (Object.prototype.toString.call(item) === '[object Function]') {
                    list.push(item);
                }

            });
            memory && fire(memory);
        },
        fire: function () {
            self.fireWith.call(this, arguments);
        },
        fireWith: function (context, arguments) {
            var args = [context, arguments];
            if (!option.once || !fireListening) {
                fire(args);
            }


        }
    };
    return self;
}
```
