浏览器事件循环
```
常见的 macro-task 比如：setTimeout、setInterval、script（整体代码）、 I/O 操作、UI 渲染等。
常见的 micro-task 比如: new Promise().then(回调)、MutationObserver(html5新特性) 等。
Vue.nextTick利用了事件循环的机制
宏任务先执行，之后执行这一轮的微任务 这个流程会不断重复
```
```javascript
const p =Promise.resolve();
(()=>{
    return  new Promise(resolve =>{
        const promise = new Promise(res=>res(p));
        // 执行顺序  promise 需要等到 内部的resolve(p) 考察微任务的执行顺序
        promise.then(()=>{
            console.log('after:await');
            resolve()
        })
    });
})();
p.then(()=>{ 
    console.log('tick:a');
}).then(()=>{
    console.log('tick:b');
}).then(()=>{
    console.log('tick:c');
});
```