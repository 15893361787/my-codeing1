####什么是三次握手，四次挥手
```
tcp是一种面向连接的协议在发送数据前,通信双方必须建立一条连接,所谓的连接就是在客户端和服务端的内存里保存一份彼此的信息,ip地址或者端口号
tcp了一种可靠面向连接字节流 传输层的服务 采用三次握手建立连接 四次挥手关闭连接
```
####为什么要进行三次握手 四次挥手
```
客户端和服务端通信进行连接 三次握手的作用是 确定自己合对方的收发能力完全没有问题
tcp连接是双向传输的模式就是说双方都可以向对方发送和接受数据 当有一方需要关闭连接会发送指令告诉对方--我要关闭连接了此时对方会回复一个ACK
此时一个方向的连接关闭 但另一个方向的连接还可以继续传输数据等发送完所有数据会发送一个FIN字段来关闭此方向的链接接收方发送ACK确认关闭连接
注意 接受到FIN的一方只能只能回复一个ACK他是无法立刻返回对方一个FIN报文的因为结束数据传输的指令是由应用层给出
```
####为什么建立连接三次 结束连接需要四次
```
因为服务端在listen状态下收到建立连接请求的SYN后吧ACK和SYN放在一个报文中发送给客户端
关闭连接的时候当收到对方的FIN报文后仅仅表示对方不再发送数据了但是还能接受数据自己是否关闭通道需要由应用层来决定因为自己的ACK FIN是分开发送

```
####三次握手和四次挥手是如何完成的
```
三次握手
1.客户端发送一个SYN字段并指明客户端初始化序列号
2.服务端发送自己的SYN作为应答并指明初始化序列号为了确认客户端的SYN吧客户端的初始化序列号+1作为ACK数值如果有丢失情况下就会重传
3.客户端为了确认服务端的SYN吧服务端的初始化序列号+1作为ACK的值

四次挥手
1.客户端发送一个FIN报文并包含一个希望接受者能够看到自己当前的序列号同时还包含一个ACK表示确认最近对方发送过数据
2.服务端将客户端的序列号+1作为ACK的值表名收到了上一个包这时应用层会告知另一端发起了关闭操作通常这回引起应用程序发起自己的关闭操作
3.服务端发起自己的FIN报文
4.客户端确认      
```
